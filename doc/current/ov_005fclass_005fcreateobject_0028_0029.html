<html lang="en">
<head>
<title>ov_class_createobject() - LibOV API Reference</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="LibOV API Reference">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Class.html#Class" title="Class">
<link rel="prev" href="OV_005fFNC_005fINITOBJ.html#OV_005fFNC_005fINITOBJ" title="OV_FNC_INITOBJ">
<link rel="next" href="ov_005fclass_005fdeleteobject_0028_0029.html#ov_005fclass_005fdeleteobject_0028_0029" title="ov_class_deleteobject()">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="ov_class_createobject()"></a>
<a name="ov_005fclass_005fcreateobject_0028_0029"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="ov_005fclass_005fdeleteobject_0028_0029.html#ov_005fclass_005fdeleteobject_0028_0029">ov_class_deleteobject()</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="OV_005fFNC_005fINITOBJ.html#OV_005fFNC_005fINITOBJ">OV_FNC_INITOBJ</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Class.html#Class">Class</a>
<hr>
</div>

<h3 class="section">9.2 Create an instance of a class</h3>

<p>The <code>ov_class_createobject()</code> function creates a new instance object
of a class, initializes it and starts it up.

   <p>The instance can not be created if there is not enough memory available in the
database, if the class is not instantiable, if an object with the given identifier
already exists in the parent domain, if the initialization of the object fails or
if the constructor of the object returns an error code other than <code>OV_ERR_OK</code>.

   <p><strong>Header file</strong>

   <p><code>#include "libov/ov_class.h"</code>

   <p><strong>Declaration</strong>

<pre class="format"><tt>OV_DLLFNCEXPORT OV_RESULT ov_class_createobject(
    const OV_INSTPTR_ov_class  pclass,
    const OV_INSTPTR_ov_domain pparent,
    const OV_STRING            identifier,
    const OV_PLACEMENT_HINT    hint,
    const OV_INSTPTR_ov_object prelchild,
    OV_FNC_INITOBJ             *initobjfnc,
    OV_POINTER                 userdata,
    OV_INSTPTR_ov_object       *ppobj
);</tt>
</pre>
   <p><strong>Parameters</strong>

     <dl>
<dt><code>pclass</code><dd>Pointer to the class object defining the class to be instantiated. The class must
be instantiable. 
<br><dt><code>pparent</code><dd>Pointer to the parent domain object which will contain the new instance object. 
<br><dt><code>identifier</code><dd>String containing the identifier of the new instance object. 
<br><dt><code>hint</code><dd>Placement hint indicating the position of the new instance object compared to other
objects contained in the parent domain object. 
<br><dt><code>prelchild</code><dd>If <code>hint == OV_PMH_BEFORE</code> or <code>hint == OV_PMH_AFTER</code>, this parameter is
a pointer to a child object contained in the parent domain before/after which the
new instance object will be placed; otherwise this parameter is ignored. The child
object pointed to by <code>prelchild</code> must alreay be a child of the parent domain
object. 
<br><dt><code>initobjfnc</code><dd>Pointer to a function with the function prototype <code>OV_FNC_INITOBJ</code>,
which will be called for initialization of the new instance object or <code>NULL</code>. 
When this function is called during instantiation, the pointer to the instance
object and a generic pointer to a user defined data structure is passed to
the function. The function must then return a function result. If this result
is not <code>OV_ERR_OK</code> instantiation of the object fails and the new instance
object will be deleted. 
<br><dt><code>userdata</code><dd>Generic pointer to a user defined data structure containing information which is
necessary for initialization of the new instance object. This parameter is passed
to the initialization function specified by <code>initobjfnc</code>. 
<br><dt><code>ppobj</code><dd>Pointer to the instance object pointer of the new instance object. 
</dl>

   <p><strong>Return value</strong>

   <p>The function returns <code>OV_ERR_OK</code> if it succeeds or the error code otherwise. 
If the function succeeds, the instance object pointer pointed to by the <code>ppobj</code>
parameter contains the address of the new instance object or <code>NULL</code> otherwise.

<!--  -->
   </body></html>

